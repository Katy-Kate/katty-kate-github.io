!function(e,t,s,n,o){"use strict";var a="rMenu";e.fn[a]=function(s){return this.each(function(){var n=e(this);n.data(a)||n.data(a,new function(s,n){var o=this;o.optionsInit={minWidth:"769px",transitionSpeed:400,jqueryEasing:"swing",css3Easing:"ease",toggleBtnBool:!0,toggleSel:".rm-toggle",menuSel:"ul",menuItemsSel:"li",animateBool:!0,accelerateBool:!1,setupCallback:!1,developmentMode:!1},o.options=e.extend({},o.optionsInit,n),o.tButton=e(o.options.toggleSel),o.tButtonClass="rm-button",o.tButtonShowClass="rm-show",o.tButtonActiveClass="rm-active",o.el=e(s),o.navElementClass="rm-nav",o.container=o.el.parent(),o.containerClass="rm-container",o.expandedClass="rm-layout-expanded",o.contractedClass="rm-layout-contracted",o.noJSClass="rm-nojs",o.menus=o.el.find(o.options.menuSel),o.menuClass="rm-menu",o.topMenu=o.el.children(o.options.menuSel),o.topMenuClass="rm-top-menu",o.menuExpandedClass="rm-menu-expanded",o.menuHiddenClass="accessibly-hidden",o.menuCalcClass="rm-calculate",o.menuItemClass="rm-menu-item",o.itemFocused=!1,o.parentClass="rm-parent",o.itemHoverClass="rm-hover",o.itemFirst="rm-first",o.itemLast="rm-last",o.item2ndLast="rm-2nd-last",o.animateClass="rm-css-animate",o.animateBool=o.options.animateBool,o.accelerateClass="rm-accelerate",o.accelerateBool=o.options.accelerateBool,o.touchMoveBool=!1,o.timer=!1,o.windowWidth=e(t).width(),o.init=function(){return o.setup(),e(t).on({resize:function(){e(t).width()!==o.windowWidth&&(o.windowWidth=e(t).width(),clearTimeout(o.timer),o.timer=setTimeout(o.adjust,500))}}),"function"==typeof o.options.setupCallback&&o.options.setupCallback(),this},o.setup=function(){return o.container.addClass(o.containerClass),o.options.toggleBtnBool?o.tButton.addClass(o.tButtonClass):o.tButton.removeClass(o.tButtonClass),o.tButton.removeClass(o.noJSClass).off("mousedown.rm focusin.rm click.rm").on("mousedown.rm focusin.rm",a).on("click.rm",d).not("[tabindex]").attr("tabindex",0),o.menus.addClass(o.menuClass).attr("aria-hidden","false").hide(),o.topMenu.addClass(o.topMenuClass),o.animateBool?"undefined"!=typeof Modernizr?Modernizr.csstransitions?Modernizr.csstransforms3d||(o.accelerateBool=!1):(o.animateBool=!1,o.accelerateBool=!1):l()?i()||(o.accelerateBool=!1):(o.animateBool=!1,o.accelerateBool=!1):o.accelerateBool=!1,o.animateBool&&(o.menus.addClass(o.animateClass),o.accelerateBool&&o.menus.addClass(o.accelerateClass)),o.el.removeClass(o.noJSClass).addClass(o.navElementClass).off("focusin.rm focusout.rm click.rm touchend.rm touchmove.rm").on("focusin.rm",o.options.menuItemsSel,u).on("focusout.rm",o.topMenu,p).on("click.rm touchend.rm",o.options.menuItemsSel,m).on("touchmove.rm",o.options.menuItemsSel,c).find(o.options.menuItemsSel).each(function(t){var s=e(this);s.addClass(o.menuItemClass).children("a").not("[tabindex]").attr("tabindex",0),s.is(":first-child")&&s.addClass(o.itemFirst),s.is(":last-child")&&s.addClass(o.itemLast).prev().addClass(o.item2ndLast)}).addBack().removeClass(o.parentClass).has(o.options.menuSel).addClass(o.parentClass),o.adjust(),this},o.adjust=function(s){s=void 0!==s?s:o.options.minWidth,"undefined"!=typeof Modernizr&&Modernizr.mq("only all")?(o.options.developmentMode&&console.log("Modernizr: MQ supported"),Modernizr.mq("( min-width: "+s+" )")?o.layoutExpanded():o.layoutContracted()):(o.options.developmentMode&&console.log("unable to detect MQ support"),e(t).outerWidth()<parseInt(s)?o.layoutContracted():o.layoutExpanded())},o.layoutContracted=function(){return o.container.hasClass(o.contractedClass)||(p({type:"layoutContracted"}),o.container.removeClass(o.expandedClass).addClass(o.contractedClass).find("."+o.itemHoverClass).removeClass(o.itemHoverClass),o.animateBool&&o.calculateHeights(),o.el.off("mouseenter.le mouseleave.le"),o.tButton.addClass(o.tButtonShowClass),o.tButton.hasClass(o.tButtonActiveClass)?(o.topMenu.removeClass(o.menuHiddenClass).show().addClass(o.menuExpandedClass),o.animateBool&&o.topMenu.css({"max-height":"none"})):o.topMenu.addClass(o.menuHiddenClass).show().removeClass(o.menuExpandedClass)),o.options.developmentMode&&console.log("responsive-menu: contracted layout"),this},o.layoutExpanded=function(){return o.container.hasClass(o.expandedClass)||(p({type:"layoutExpanded"}),o.container.removeClass(o.contractedClass).addClass(o.expandedClass).find("."+o.itemHoverClass).removeClass(o.itemHoverClass),o.animateBool&&o.calculateHeights(),o.el.off("mouseenter.le mouseleave.le").on("mouseenter.le",o.options.menuItemsSel,u).on("mouseleave.le",o.options.menuItemsSel,C).on("mouseleave.le",o.topMenu,p),o.tButton.removeClass(o.tButtonShowClass),o.topMenu.removeClass(o.menuHiddenClass).show().addClass(o.menuExpandedClass),o.animateBool&&o.topMenu.css({"max-height":"none",overflow:"visible"})),o.options.developmentMode&&console.log("responsive-menu: expanded layout"),this},o.calculateHeights=function(){return o.menus.addClass(o.menuCalcClass).removeClass(o.menuExpandedClass).attr("style","").show(0),o.menus.each(function(){var t=e(this);t.data("height",t.height())}).css({"max-height":"0"}).removeClass(o.menuCalcClass),this},o.toggleMenu=function(t){v(o.topMenu),o.topMenu.hasClass(o.menuHiddenClass)?(e(t).addClass(o.tButtonActiveClass),o.topMenu.removeClass(o.menuHiddenClass),o.animateBool?o.topMenu.css("max-height","0"):o.topMenu.hide(0),g(o.el)):(e(t).removeClass(o.tButtonActiveClass),v(o.container))};var a=function(t){t.stopPropagation(),e(t.target),clearTimeout(o.timer),o.timer=setTimeout(function(){o.toggleMenu(t.target)},100)},d=function(e){e.preventDefault(),e.stopPropagation()},m=function(t){var s=e(t.currentTarget);t.stopPropagation(),!s.hasClass(o.itemHoverClass)&&s.hasClass(o.parentClass)||o.touchMoveBool?"touchend"!==t.type&&t.preventDefault():(location.href=s.children("a").attr("href"),p(t)),o.touchMoveBool=!1},u=function(t){var s=e(t.currentTarget);t.stopPropagation(),"focusin"!==t.type&&s.children("a").not(":focus").focus(),o.itemFocused=s,clearTimeout(o.timer),o.timer=setTimeout(function(){o.tButton.hasClass(o.tButtonShowClass)&&!o.tButton.hasClass(o.tButtonActiveClass)&&o.toggleMenu(o.tButton.get(0)),s.hasClass(o.parentClass)?s.hasClass(o.itemHoverClass)||(v(s.parent()),g(s)):v(s.parent())},100)},c=function(e){o.touchMoveBool=!0},p=function(e){e=e||{type:"callback"},clearTimeout(o.timer),o.timer=setTimeout(function(){o.itemFocused&&(o.itemFocused.children("a").blur(),o.itemFocused=!1),v(o.topMenu)},100)},C=function(t){var s=e(t.currentTarget);clearTimeout(o.timer),o.timer=setTimeout(function(){s.parent().parent().children("a").focus()},100)},h=function(t){if("max-height"===t.originalEvent.propertyName){var s=e(t.currentTarget);t.stopPropagation(),s.css({transition:"","max-height":"0",overflow:"hidden"}).removeClass(o.menuExpandedClass).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd").parent().find("."+o.itemHoverClass).addBack().removeClass(o.itemHoverClass),s.hasClass(o.topMenuClass)&&s.addClass(o.menuHiddenClass).show(0),r(o.itemFocused)}},f=function(t){if("max-height"===t.originalEvent.propertyName){var s=e(t.currentTarget);t.stopPropagation(),s.removeClass(o.menuHiddenClass).css({transition:"","max-height":"none",overflow:"visible"}).addClass(o.menuExpandedClass).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),s.parent("."+o.parentClass).addClass(o.itemHoverClass),r(o.itemFocused)}},v=function(t){var s=t.find(o.options.menuSel);o.animateBool?(s.each(function(){var t=e(this);0!==t.height()?t.css({"max-height":t.height(),transition:"max-height "+String(o.options.transitionSpeed/1e3)+"s "+o.options.css3Easing,overflow:"hidden"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",h):s.not(t)}),s.hide(0).show(0),s.css({"max-height":"0"}).removeClass(o.menuExpandedClass)):s.each(function(){var t=e(this);0!==t.height()&&t.slideUp(o.options.transitionSpeed,o.options.jqueryEasing,function(){t.css("overflow","visible").removeClass(o.menuExpandedClass).parent("."+o.parentClass).removeClass(o.itemHoverClass),t.hasClass(o.topMenuClass)&&o.topMenu.addClass(o.menuHiddenClass),r(o.itemFocused)})})},g=function(e){var t=e.children(o.options.menuSel);e.siblings("."+o.itemHoverClass).removeClass(o.itemHoverClass),o.animateBool?t.css({transition:"max-height "+String(o.options.transitionSpeed/1e3)+"s "+o.options.css3Easing,"max-height":t.data("height")}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",f):t.slideDown(o.options.transitionSpeed,o.options.jqueryEasing,function(){e.addClass(o.itemHoverClass),t.addClass(o.menuExpandedClass).css("overflow","visible"),console.log("jquery expand"),r(o.itemFocused)})};return o.init(s),this}(this,s))})};var i=function(){var e,n=s.createElement("p"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};s.body.insertBefore(n,null);for(var i in a)n.style[i]!==o&&(n.style[i]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(a[i]));return s.body.removeChild(n),e!==o&&e.length>0&&"none"!==e},l=function(){var e=(s.body||s.documentElement).style,t="transition";if("string"==typeof e[t])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<n.length;o++)if("string"==typeof e[n[o]+t])return!0;return!1},r=function(s){if(s.length){var n=e(t).scrollTop(),o=n+e(t).height(),a=s.offset().top;(a+s.outerHeight()>o||a<n)&&e("html, body").animate({scrollTop:a},"slow")}}}(jQuery,window,document,Math);